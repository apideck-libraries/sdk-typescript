/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";
import { LineItemType, LineItemType$inboundSchema } from "./lineitemtype.js";
import {
  LinkedInvoiceItem,
  LinkedInvoiceItem$inboundSchema,
} from "./linkedinvoiceitem.js";
import {
  LinkedLedgerAccount,
  LinkedLedgerAccount$inboundSchema,
} from "./linkedledgeraccount.js";
import { LinkedTaxRate, LinkedTaxRate$inboundSchema } from "./linkedtaxrate.js";
import {
  LinkedTrackingCategory,
  LinkedTrackingCategory$inboundSchema,
} from "./linkedtrackingcategory.js";
import { Rebilling, Rebilling$inboundSchema } from "./rebilling.js";

export type ExpenseLineItem = {
  /**
   * A unique identifier for an object.
   */
  id?: string | undefined;
  /**
   * A list of linked tracking categories.
   */
  trackingCategories?: Array<LinkedTrackingCategory | null> | null | undefined;
  /**
   * The unique identifier for the ledger account. Deprecated, use account instead.
   *
   * @deprecated field: This will be removed in a future release, please migrate away from it as soon as possible.
   */
  accountId?: string | undefined;
  account?: LinkedLedgerAccount | null | undefined;
  /**
   * The ID of the customer this expense item is linked to.
   */
  customerId?: string | undefined;
  /**
   * The ID of the department
   */
  departmentId?: string | null | undefined;
  /**
   * The ID of the location
   */
  locationId?: string | null | undefined;
  /**
   * The ID of the subsidiary
   */
  subsidiaryId?: string | null | undefined;
  taxRate?: LinkedTaxRate | undefined;
  /**
   * The expense line item description
   */
  description?: string | null | undefined;
  /**
   * Line Item type
   */
  type?: LineItemType | null | undefined;
  /**
   * The total amount of the expense line item.
   */
  totalAmount: number | null;
  /**
   * Tax amount
   */
  taxAmount?: number | null | undefined;
  quantity?: number | null | undefined;
  unitPrice?: number | null | undefined;
  item?: LinkedInvoiceItem | undefined;
  /**
   * Boolean that indicates if the line item is billable or not.
   *
   * @deprecated field: This will be removed in a future release, please migrate away from it as soon as possible.
   */
  billable?: boolean | undefined;
  /**
   * Line number of the resource
   */
  lineNumber?: number | null | undefined;
  /**
   * Rebilling metadata for this line item.
   */
  rebilling?: Rebilling | null | undefined;
};

/** @internal */
export const ExpenseLineItem$inboundSchema: z.ZodType<
  ExpenseLineItem,
  z.ZodTypeDef,
  unknown
> = z.object({
  id: z.string().optional(),
  tracking_categories: z.nullable(
    z.array(z.nullable(LinkedTrackingCategory$inboundSchema)),
  ).optional(),
  account_id: z.string().optional(),
  account: z.nullable(LinkedLedgerAccount$inboundSchema).optional(),
  customer_id: z.string().optional(),
  department_id: z.nullable(z.string()).optional(),
  location_id: z.nullable(z.string()).optional(),
  subsidiary_id: z.nullable(z.string()).optional(),
  tax_rate: LinkedTaxRate$inboundSchema.optional(),
  description: z.nullable(z.string()).optional(),
  type: z.nullable(LineItemType$inboundSchema).optional(),
  total_amount: z.nullable(z.number()),
  tax_amount: z.nullable(z.number()).optional(),
  quantity: z.nullable(z.number()).optional(),
  unit_price: z.nullable(z.number()).optional(),
  item: LinkedInvoiceItem$inboundSchema.optional(),
  billable: z.boolean().optional(),
  line_number: z.nullable(z.number().int()).optional(),
  rebilling: z.nullable(Rebilling$inboundSchema).optional(),
}).transform((v) => {
  return remap$(v, {
    "tracking_categories": "trackingCategories",
    "account_id": "accountId",
    "customer_id": "customerId",
    "department_id": "departmentId",
    "location_id": "locationId",
    "subsidiary_id": "subsidiaryId",
    "tax_rate": "taxRate",
    "total_amount": "totalAmount",
    "tax_amount": "taxAmount",
    "unit_price": "unitPrice",
    "line_number": "lineNumber",
  });
});

export function expenseLineItemFromJSON(
  jsonString: string,
): SafeParseResult<ExpenseLineItem, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ExpenseLineItem$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ExpenseLineItem' from JSON`,
  );
}
