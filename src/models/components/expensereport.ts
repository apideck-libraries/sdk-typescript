/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../../lib/primitives.js";
import { safeParse } from "../../lib/schemas.js";
import * as openEnums from "../../types/enums.js";
import { OpenEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import * as types from "../../types/primitives.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";
import {
  Currency,
  Currency$inboundSchema,
  Currency$outboundSchema,
} from "./currency.js";
import {
  CustomField,
  CustomField$inboundSchema,
  CustomField$Outbound,
  CustomField$outboundSchema,
} from "./customfield.js";
import {
  ExpenseReportLineItem,
  ExpenseReportLineItem$inboundSchema,
} from "./expensereportlineitem.js";
import {
  ExpenseReportLineItemInput,
  ExpenseReportLineItemInput$Outbound,
  ExpenseReportLineItemInput$outboundSchema,
} from "./expensereportlineiteminput.js";
import {
  LinkedDepartment,
  LinkedDepartment$inboundSchema,
} from "./linkeddepartment.js";
import {
  LinkedDepartmentInput,
  LinkedDepartmentInput$Outbound,
  LinkedDepartmentInput$outboundSchema,
} from "./linkeddepartmentinput.js";
import {
  LinkedLedgerAccount,
  LinkedLedgerAccount$inboundSchema,
  LinkedLedgerAccount$Outbound,
  LinkedLedgerAccount$outboundSchema,
} from "./linkedledgeraccount.js";
import {
  LinkedLocation,
  LinkedLocation$inboundSchema,
} from "./linkedlocation.js";
import {
  LinkedLocationInput,
  LinkedLocationInput$Outbound,
  LinkedLocationInput$outboundSchema,
} from "./linkedlocationinput.js";
import {
  LinkedSubsidiary,
  LinkedSubsidiary$inboundSchema,
} from "./linkedsubsidiary.js";
import {
  LinkedSubsidiaryInput,
  LinkedSubsidiaryInput$Outbound,
  LinkedSubsidiaryInput$outboundSchema,
} from "./linkedsubsidiaryinput.js";
import {
  LinkedTrackingCategory,
  LinkedTrackingCategory$inboundSchema,
  LinkedTrackingCategory$Outbound,
  LinkedTrackingCategory$outboundSchema,
} from "./linkedtrackingcategory.js";
import {
  PassThroughBody,
  PassThroughBody$inboundSchema,
  PassThroughBody$Outbound,
  PassThroughBody$outboundSchema,
} from "./passthroughbody.js";

/**
 * The employee who submitted the expense report.
 */
export type ExpenseReportEmployee = {
  /**
   * A unique identifier for the employee.
   */
  id?: string | undefined;
  /**
   * The display name of the employee.
   */
  displayName?: string | null | undefined;
};

/**
 * The status of the expense report.
 */
export const ExpenseReportStatus = {
  Draft: "draft",
  Submitted: "submitted",
  Approved: "approved",
  Reimbursed: "reimbursed",
  Rejected: "rejected",
  Reversed: "reversed",
  Voided: "voided",
} as const;
/**
 * The status of the expense report.
 */
export type ExpenseReportStatus = OpenEnum<typeof ExpenseReportStatus>;

/**
 * The accounting period the expense report is posted to.
 */
export type AccountingPeriod = {
  /**
   * A unique identifier for the accounting period.
   */
  id?: string | undefined;
  /**
   * The name of the accounting period.
   */
  name?: string | null | undefined;
};

/**
 * The person who approved the expense report.
 */
export type ApprovedBy = {
  /**
   * A unique identifier for the approver.
   */
  id?: string | undefined;
  /**
   * The display name of the approver.
   */
  displayName?: string | null | undefined;
};

export type ExpenseReport = {
  /**
   * A unique identifier for an object.
   */
  id?: string | undefined;
  /**
   * Id to be displayed.
   */
  displayId?: string | null | undefined;
  /**
   * The expense report number.
   */
  number?: string | null | undefined;
  /**
   * Title or purpose of the expense report.
   */
  title?: string | null | undefined;
  /**
   * The employee who submitted the expense report.
   */
  employee: ExpenseReportEmployee;
  /**
   * The status of the expense report.
   */
  status?: ExpenseReportStatus | null | undefined;
  /**
   * The date of the transaction - YYYY:MM::DDThh:mm:ss.sTZD
   */
  transactionDate: Date | null;
  /**
   * The date the expense report was posted to the general ledger.
   */
  postingDate?: Date | null | undefined;
  /**
   * Date when reimbursement is due.
   */
  dueDate?: Date | null | undefined;
  /**
   * Indicates the associated currency for an amount of money. Values correspond to [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217).
   */
  currency?: Currency | null | undefined;
  /**
   * Currency Exchange Rate at the time entity was recorded/generated.
   */
  currencyRate?: number | null | undefined;
  /**
   * Subtotal amount, normally before tax.
   */
  subTotal?: number | null | undefined;
  /**
   * Total tax amount applied to this transaction.
   */
  totalTax?: number | null | undefined;
  /**
   * Total amount of all expense lines including tax.
   */
  totalAmount?: number | null | undefined;
  /**
   * Total reimbursable amount (may differ from total if some expenses are non-reimbursable).
   */
  reimbursableAmount?: number | null | undefined;
  /**
   * The memo of the expense report.
   */
  memo?: string | null | undefined;
  department?: LinkedDepartment | null | undefined;
  location?: LinkedLocation | null | undefined;
  account?: LinkedLedgerAccount | null | undefined;
  /**
   * The accounting period the expense report is posted to.
   */
  accountingPeriod?: AccountingPeriod | null | undefined;
  /**
   * Expense line items linked to this expense report.
   */
  lineItems: Array<ExpenseReportLineItem>;
  subsidiary?: LinkedSubsidiary | null | undefined;
  /**
   * A list of linked tracking categories.
   */
  trackingCategories?: Array<LinkedTrackingCategory | null> | null | undefined;
  /**
   * Amounts are including tax
   */
  taxInclusive?: boolean | null | undefined;
  /**
   * The person who approved the expense report.
   */
  approvedBy?: ApprovedBy | null | undefined;
  customFields?: Array<CustomField> | undefined;
  /**
   * When custom mappings are configured on the resource, the result is included here.
   */
  customMappings?: { [k: string]: any } | null | undefined;
  /**
   * A binary value used to detect updates to a object and prevent data conflicts. It is incremented each time an update is made to the object.
   */
  rowVersion?: string | null | undefined;
  /**
   * The user who last updated the object.
   */
  updatedBy?: string | null | undefined;
  /**
   * The user who created the object.
   */
  createdBy?: string | null | undefined;
  /**
   * The date and time when the object was last updated.
   */
  updatedAt?: Date | null | undefined;
  /**
   * The date and time when the object was created.
   */
  createdAt?: Date | null | undefined;
  /**
   * The pass_through property allows passing service-specific, custom data or structured modifications in request body when creating or updating resources.
   */
  passThrough?: Array<PassThroughBody> | undefined;
};

export type ExpenseReportInput = {
  /**
   * Id to be displayed.
   */
  displayId?: string | null | undefined;
  /**
   * The expense report number.
   */
  number?: string | null | undefined;
  /**
   * Title or purpose of the expense report.
   */
  title?: string | null | undefined;
  /**
   * The employee who submitted the expense report.
   */
  employee: ExpenseReportEmployee;
  /**
   * The status of the expense report.
   */
  status?: ExpenseReportStatus | null | undefined;
  /**
   * The date of the transaction - YYYY:MM::DDThh:mm:ss.sTZD
   */
  transactionDate: Date | null;
  /**
   * The date the expense report was posted to the general ledger.
   */
  postingDate?: Date | null | undefined;
  /**
   * Date when reimbursement is due.
   */
  dueDate?: Date | null | undefined;
  /**
   * Indicates the associated currency for an amount of money. Values correspond to [ISO 4217](https://en.wikipedia.org/wiki/ISO_4217).
   */
  currency?: Currency | null | undefined;
  /**
   * Currency Exchange Rate at the time entity was recorded/generated.
   */
  currencyRate?: number | null | undefined;
  /**
   * Subtotal amount, normally before tax.
   */
  subTotal?: number | null | undefined;
  /**
   * Total tax amount applied to this transaction.
   */
  totalTax?: number | null | undefined;
  /**
   * Total amount of all expense lines including tax.
   */
  totalAmount?: number | null | undefined;
  /**
   * Total reimbursable amount (may differ from total if some expenses are non-reimbursable).
   */
  reimbursableAmount?: number | null | undefined;
  /**
   * The memo of the expense report.
   */
  memo?: string | null | undefined;
  department?: LinkedDepartmentInput | null | undefined;
  location?: LinkedLocationInput | null | undefined;
  account?: LinkedLedgerAccount | null | undefined;
  /**
   * The accounting period the expense report is posted to.
   */
  accountingPeriod?: AccountingPeriod | null | undefined;
  /**
   * Expense line items linked to this expense report.
   */
  lineItems: Array<ExpenseReportLineItemInput>;
  subsidiary?: LinkedSubsidiaryInput | null | undefined;
  /**
   * A list of linked tracking categories.
   */
  trackingCategories?: Array<LinkedTrackingCategory | null> | null | undefined;
  /**
   * Amounts are including tax
   */
  taxInclusive?: boolean | null | undefined;
  /**
   * The person who approved the expense report.
   */
  approvedBy?: ApprovedBy | null | undefined;
  customFields?: Array<CustomField> | undefined;
  /**
   * A binary value used to detect updates to a object and prevent data conflicts. It is incremented each time an update is made to the object.
   */
  rowVersion?: string | null | undefined;
  /**
   * The pass_through property allows passing service-specific, custom data or structured modifications in request body when creating or updating resources.
   */
  passThrough?: Array<PassThroughBody> | undefined;
};

/** @internal */
export const ExpenseReportEmployee$inboundSchema: z.ZodType<
  ExpenseReportEmployee,
  z.ZodTypeDef,
  unknown
> = z.object({
  id: types.optional(types.string()),
  display_name: z.nullable(types.string()).optional(),
}).transform((v) => {
  return remap$(v, {
    "display_name": "displayName",
  });
});
/** @internal */
export type ExpenseReportEmployee$Outbound = {
  id?: string | undefined;
  display_name?: string | null | undefined;
};

/** @internal */
export const ExpenseReportEmployee$outboundSchema: z.ZodType<
  ExpenseReportEmployee$Outbound,
  z.ZodTypeDef,
  ExpenseReportEmployee
> = z.object({
  id: z.string().optional(),
  displayName: z.nullable(z.string()).optional(),
}).transform((v) => {
  return remap$(v, {
    displayName: "display_name",
  });
});

export function expenseReportEmployeeToJSON(
  expenseReportEmployee: ExpenseReportEmployee,
): string {
  return JSON.stringify(
    ExpenseReportEmployee$outboundSchema.parse(expenseReportEmployee),
  );
}
export function expenseReportEmployeeFromJSON(
  jsonString: string,
): SafeParseResult<ExpenseReportEmployee, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ExpenseReportEmployee$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ExpenseReportEmployee' from JSON`,
  );
}

/** @internal */
export const ExpenseReportStatus$inboundSchema: z.ZodType<
  ExpenseReportStatus,
  z.ZodTypeDef,
  unknown
> = openEnums.inboundSchema(ExpenseReportStatus);
/** @internal */
export const ExpenseReportStatus$outboundSchema: z.ZodType<
  string,
  z.ZodTypeDef,
  ExpenseReportStatus
> = openEnums.outboundSchema(ExpenseReportStatus);

/** @internal */
export const AccountingPeriod$inboundSchema: z.ZodType<
  AccountingPeriod,
  z.ZodTypeDef,
  unknown
> = z.object({
  id: types.optional(types.string()),
  name: z.nullable(types.string()).optional(),
});
/** @internal */
export type AccountingPeriod$Outbound = {
  id?: string | undefined;
  name?: string | null | undefined;
};

/** @internal */
export const AccountingPeriod$outboundSchema: z.ZodType<
  AccountingPeriod$Outbound,
  z.ZodTypeDef,
  AccountingPeriod
> = z.object({
  id: z.string().optional(),
  name: z.nullable(z.string()).optional(),
});

export function accountingPeriodToJSON(
  accountingPeriod: AccountingPeriod,
): string {
  return JSON.stringify(
    AccountingPeriod$outboundSchema.parse(accountingPeriod),
  );
}
export function accountingPeriodFromJSON(
  jsonString: string,
): SafeParseResult<AccountingPeriod, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => AccountingPeriod$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'AccountingPeriod' from JSON`,
  );
}

/** @internal */
export const ApprovedBy$inboundSchema: z.ZodType<
  ApprovedBy,
  z.ZodTypeDef,
  unknown
> = z.object({
  id: types.optional(types.string()),
  display_name: z.nullable(types.string()).optional(),
}).transform((v) => {
  return remap$(v, {
    "display_name": "displayName",
  });
});
/** @internal */
export type ApprovedBy$Outbound = {
  id?: string | undefined;
  display_name?: string | null | undefined;
};

/** @internal */
export const ApprovedBy$outboundSchema: z.ZodType<
  ApprovedBy$Outbound,
  z.ZodTypeDef,
  ApprovedBy
> = z.object({
  id: z.string().optional(),
  displayName: z.nullable(z.string()).optional(),
}).transform((v) => {
  return remap$(v, {
    displayName: "display_name",
  });
});

export function approvedByToJSON(approvedBy: ApprovedBy): string {
  return JSON.stringify(ApprovedBy$outboundSchema.parse(approvedBy));
}
export function approvedByFromJSON(
  jsonString: string,
): SafeParseResult<ApprovedBy, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ApprovedBy$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ApprovedBy' from JSON`,
  );
}

/** @internal */
export const ExpenseReport$inboundSchema: z.ZodType<
  ExpenseReport,
  z.ZodTypeDef,
  unknown
> = z.object({
  id: types.optional(types.string()),
  display_id: z.nullable(types.string()).optional(),
  number: z.nullable(types.string()).optional(),
  title: z.nullable(types.string()).optional(),
  employee: z.lazy(() => ExpenseReportEmployee$inboundSchema),
  status: z.nullable(ExpenseReportStatus$inboundSchema).optional(),
  transaction_date: types.nullable(types.date()),
  posting_date: z.nullable(types.date()).optional(),
  due_date: z.nullable(types.date()).optional(),
  currency: z.nullable(Currency$inboundSchema).optional(),
  currency_rate: z.nullable(types.number()).optional(),
  sub_total: z.nullable(types.number()).optional(),
  total_tax: z.nullable(types.number()).optional(),
  total_amount: z.nullable(types.number()).optional(),
  reimbursable_amount: z.nullable(types.number()).optional(),
  memo: z.nullable(types.string()).optional(),
  department: z.nullable(LinkedDepartment$inboundSchema).optional(),
  location: z.nullable(LinkedLocation$inboundSchema).optional(),
  account: z.nullable(LinkedLedgerAccount$inboundSchema).optional(),
  accounting_period: z.nullable(z.lazy(() => AccountingPeriod$inboundSchema))
    .optional(),
  line_items: z.array(ExpenseReportLineItem$inboundSchema),
  subsidiary: z.nullable(LinkedSubsidiary$inboundSchema).optional(),
  tracking_categories: z.nullable(
    z.array(types.nullable(LinkedTrackingCategory$inboundSchema)),
  ).optional(),
  tax_inclusive: z.nullable(types.boolean()).optional(),
  approved_by: z.nullable(z.lazy(() => ApprovedBy$inboundSchema)).optional(),
  custom_fields: types.optional(z.array(CustomField$inboundSchema)),
  custom_mappings: z.nullable(z.record(z.any())).optional(),
  row_version: z.nullable(types.string()).optional(),
  updated_by: z.nullable(types.string()).optional(),
  created_by: z.nullable(types.string()).optional(),
  updated_at: z.nullable(types.date()).optional(),
  created_at: z.nullable(types.date()).optional(),
  pass_through: types.optional(z.array(PassThroughBody$inboundSchema)),
}).transform((v) => {
  return remap$(v, {
    "display_id": "displayId",
    "transaction_date": "transactionDate",
    "posting_date": "postingDate",
    "due_date": "dueDate",
    "currency_rate": "currencyRate",
    "sub_total": "subTotal",
    "total_tax": "totalTax",
    "total_amount": "totalAmount",
    "reimbursable_amount": "reimbursableAmount",
    "accounting_period": "accountingPeriod",
    "line_items": "lineItems",
    "tracking_categories": "trackingCategories",
    "tax_inclusive": "taxInclusive",
    "approved_by": "approvedBy",
    "custom_fields": "customFields",
    "custom_mappings": "customMappings",
    "row_version": "rowVersion",
    "updated_by": "updatedBy",
    "created_by": "createdBy",
    "updated_at": "updatedAt",
    "created_at": "createdAt",
    "pass_through": "passThrough",
  });
});

export function expenseReportFromJSON(
  jsonString: string,
): SafeParseResult<ExpenseReport, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ExpenseReport$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ExpenseReport' from JSON`,
  );
}

/** @internal */
export type ExpenseReportInput$Outbound = {
  display_id?: string | null | undefined;
  number?: string | null | undefined;
  title?: string | null | undefined;
  employee: ExpenseReportEmployee$Outbound;
  status?: string | null | undefined;
  transaction_date: string | null;
  posting_date?: string | null | undefined;
  due_date?: string | null | undefined;
  currency?: string | null | undefined;
  currency_rate?: number | null | undefined;
  sub_total?: number | null | undefined;
  total_tax?: number | null | undefined;
  total_amount?: number | null | undefined;
  reimbursable_amount?: number | null | undefined;
  memo?: string | null | undefined;
  department?: LinkedDepartmentInput$Outbound | null | undefined;
  location?: LinkedLocationInput$Outbound | null | undefined;
  account?: LinkedLedgerAccount$Outbound | null | undefined;
  accounting_period?: AccountingPeriod$Outbound | null | undefined;
  line_items: Array<ExpenseReportLineItemInput$Outbound>;
  subsidiary?: LinkedSubsidiaryInput$Outbound | null | undefined;
  tracking_categories?:
    | Array<LinkedTrackingCategory$Outbound | null>
    | null
    | undefined;
  tax_inclusive?: boolean | null | undefined;
  approved_by?: ApprovedBy$Outbound | null | undefined;
  custom_fields?: Array<CustomField$Outbound> | undefined;
  row_version?: string | null | undefined;
  pass_through?: Array<PassThroughBody$Outbound> | undefined;
};

/** @internal */
export const ExpenseReportInput$outboundSchema: z.ZodType<
  ExpenseReportInput$Outbound,
  z.ZodTypeDef,
  ExpenseReportInput
> = z.object({
  displayId: z.nullable(z.string()).optional(),
  number: z.nullable(z.string()).optional(),
  title: z.nullable(z.string()).optional(),
  employee: z.lazy(() => ExpenseReportEmployee$outboundSchema),
  status: z.nullable(ExpenseReportStatus$outboundSchema).optional(),
  transactionDate: z.nullable(z.date().transform(v => v.toISOString())),
  postingDate: z.nullable(
    z.date().transform(v => v.toISOString().slice(0, "YYYY-MM-DD".length)),
  ).optional(),
  dueDate: z.nullable(
    z.date().transform(v => v.toISOString().slice(0, "YYYY-MM-DD".length)),
  ).optional(),
  currency: z.nullable(Currency$outboundSchema).optional(),
  currencyRate: z.nullable(z.number()).optional(),
  subTotal: z.nullable(z.number()).optional(),
  totalTax: z.nullable(z.number()).optional(),
  totalAmount: z.nullable(z.number()).optional(),
  reimbursableAmount: z.nullable(z.number()).optional(),
  memo: z.nullable(z.string()).optional(),
  department: z.nullable(LinkedDepartmentInput$outboundSchema).optional(),
  location: z.nullable(LinkedLocationInput$outboundSchema).optional(),
  account: z.nullable(LinkedLedgerAccount$outboundSchema).optional(),
  accountingPeriod: z.nullable(z.lazy(() => AccountingPeriod$outboundSchema))
    .optional(),
  lineItems: z.array(ExpenseReportLineItemInput$outboundSchema),
  subsidiary: z.nullable(LinkedSubsidiaryInput$outboundSchema).optional(),
  trackingCategories: z.nullable(
    z.array(z.nullable(LinkedTrackingCategory$outboundSchema)),
  ).optional(),
  taxInclusive: z.nullable(z.boolean()).optional(),
  approvedBy: z.nullable(z.lazy(() => ApprovedBy$outboundSchema)).optional(),
  customFields: z.array(CustomField$outboundSchema).optional(),
  rowVersion: z.nullable(z.string()).optional(),
  passThrough: z.array(PassThroughBody$outboundSchema).optional(),
}).transform((v) => {
  return remap$(v, {
    displayId: "display_id",
    transactionDate: "transaction_date",
    postingDate: "posting_date",
    dueDate: "due_date",
    currencyRate: "currency_rate",
    subTotal: "sub_total",
    totalTax: "total_tax",
    totalAmount: "total_amount",
    reimbursableAmount: "reimbursable_amount",
    accountingPeriod: "accounting_period",
    lineItems: "line_items",
    trackingCategories: "tracking_categories",
    taxInclusive: "tax_inclusive",
    approvedBy: "approved_by",
    customFields: "custom_fields",
    rowVersion: "row_version",
    passThrough: "pass_through",
  });
});

export function expenseReportInputToJSON(
  expenseReportInput: ExpenseReportInput,
): string {
  return JSON.stringify(
    ExpenseReportInput$outboundSchema.parse(expenseReportInput),
  );
}
