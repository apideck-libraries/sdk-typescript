# Connection

## Example Usage

```typescript
import { Connection } from "@apideck/unify/models/components";

let value: Connection = {
  id: "crm+salesforce",
  serviceId: "salesforce",
  name: "Salesforce",
  tagLine:
    "CRM software solutions and enterprise cloud computing from Salesforce, the leader in customer relationship management (CRM) and PaaS. Free 30 day trial.",
  unifiedApi: "crm",
  state: "authorized",
  integrationState: "configured",
  authType: "oauth2",
  oauthGrantType: "authorization_code",
  enabled: true,
  website: "https://www.salesforce.com",
  icon:
    "https://res.cloudinary.com/apideck/image/upload/v1529456047/catalog/salesforce/icon128x128.png",
  logo:
    "https://c1.sfdcstatic.com/content/dam/web/en_us/www/images/home/logo-salesforce-m.svg",
  authorizeUrl:
    "https://unify.apideck.com/vault/authorize/salesforce/<application-id>?state=<state>",
  revokeUrl:
    "https://unify.apideck.com/vault/revoke/salesforce/<application-id>?state=<state>",
  settings: {
    "instance_url": "https://eu28.salesforce.com",
    "api_key": "12345xxxxxx",
  },
  metadata: {
    "account": {
      "name": "My Company",
      "id": "c01458a5-7276-41ce-bc19-639906b0450a",
    },
    "plan": "enterprise",
  },
  formFields: [
    {
      id: "instance_url",
      label: "Instance url",
      placeholder: "",
      type: "text",
      required: true,
      customField: false,
      disabled: false,
      sensitive: false,
    },
    {
      id: "api_key",
      label: "API Key",
      placeholder: "",
      type: "text",
      required: true,
      customField: false,
      disabled: false,
      sensitive: true,
    },
  ],
  configuration: [
    {
      resource: "leads",
      defaults: [
        {
          target: "custom_fields",
          id: "ProductInterest",
          options: [
            {
              id: "1234",
              label: "General Channel",
              options: [
                {
                  label: "General Channel",
                  value: "general",
                },
              ],
            },
          ],
          value: true,
        },
      ],
    },
  ],
  configurableResources: [
    "opportunities",
    "companies",
    "contacts",
    "leads",
  ],
  resourceSchemaSupport: [
    "leads",
  ],
  resourceSettingsSupport: [
    "leads",
  ],
  settingsRequiredForAuthorization: [
    "client_id",
    "client_secret",
  ],
  subscriptions: [
    {
      downstreamId: "5f5f5f5f5f5f5f5f5f5f5f5f",
      unifyEventTypes: [
        "crm.contact.created",
      ],
      downstreamEventTypes: [
        "contacts.CREATED",
      ],
      executeUrl:
        "https://unify.apideck.com/webhook/w/{lookupIdToken}/{serviceId}?e={downstreamEventType}",
      createdAt: "2020-10-01T12:00:00.000Z",
    },
  ],
  hasGuide: true,
  createdAt: 1615563533390,
  customMappings: [
    {
      id: "hris+employees+first_aid_training",
      label: "First Aid Training",
      description: "First Aid Training completed after 2019-01-01",
      value: "$.root.training.first_aid",
      key: "first_aid_training",
      required: false,
      customField: true,
      consumerId: "test_user_id",
      example: "Some value",
    },
  ],
  updatedAt: 1616662325753,
};
```

## Fields

| Field                                                                                                                                                                                                                                                                                                                                                                                                                           | Type                                                                                                                                                                                                                                                                                                                                                                                                                            | Required                                                                                                                                                                                                                                                                                                                                                                                                                        | Description                                                                                                                                                                                                                                                                                                                                                                                                                     | Example                                                                                                                                                                                                                                                                                                                                                                                                                         |
| ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `id`                                                                                                                                                                                                                                                                                                                                                                                                                            | *string*                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | The unique identifier of the connection.                                                                                                                                                                                                                                                                                                                                                                                        | crm+salesforce                                                                                                                                                                                                                                                                                                                                                                                                                  |
| `serviceId`                                                                                                                                                                                                                                                                                                                                                                                                                     | *string*                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | The ID of the service this connection belongs to.                                                                                                                                                                                                                                                                                                                                                                               | salesforce                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `name`                                                                                                                                                                                                                                                                                                                                                                                                                          | *string*                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | The name of the connection                                                                                                                                                                                                                                                                                                                                                                                                      | Salesforce                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `tagLine`                                                                                                                                                                                                                                                                                                                                                                                                                       | *string*                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                             | CRM software solutions and enterprise cloud computing from Salesforce, the leader in customer relationship management (CRM) and PaaS. Free 30 day trial.                                                                                                                                                                                                                                                                        |
| `unifiedApi`                                                                                                                                                                                                                                                                                                                                                                                                                    | *string*                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | The unified API category where the connection belongs to.                                                                                                                                                                                                                                                                                                                                                                       | crm                                                                                                                                                                                                                                                                                                                                                                                                                             |
| `state`                                                                                                                                                                                                                                                                                                                                                                                                                         | [components.ConnectionState](../../models/components/connectionstate.md)                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | [Connection state flow](#section/Connection-state)                                                                                                                                                                                                                                                                                                                                                                              | authorized                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `integrationState`                                                                                                                                                                                                                                                                                                                                                                                                              | [components.IntegrationState](../../models/components/integrationstate.md)                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | The current state of the Integration.                                                                                                                                                                                                                                                                                                                                                                                           | configured                                                                                                                                                                                                                                                                                                                                                                                                                      |
| `authType`                                                                                                                                                                                                                                                                                                                                                                                                                      | [components.AuthType](../../models/components/authtype.md)                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | Type of authorization used by the connector                                                                                                                                                                                                                                                                                                                                                                                     | oauth2                                                                                                                                                                                                                                                                                                                                                                                                                          |
| `oauthGrantType`                                                                                                                                                                                                                                                                                                                                                                                                                | [components.OAuthGrantType](../../models/components/oauthgranttype.md)                                                                                                                                                                                                                                                                                                                                                          | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | OAuth grant type used by the connector. More info: https://oauth.net/2/grant-types                                                                                                                                                                                                                                                                                                                                              | authorization_code                                                                                                                                                                                                                                                                                                                                                                                                              |
| `status`                                                                                                                                                                                                                                                                                                                                                                                                                        | [components.ConnectionStatus](../../models/components/connectionstatus.md)                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | Status of the connection.                                                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `enabled`                                                                                                                                                                                                                                                                                                                                                                                                                       | *boolean*                                                                                                                                                                                                                                                                                                                                                                                                                       | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | Whether the connection is enabled or not. You can enable or disable a connection using the Update Connection API.                                                                                                                                                                                                                                                                                                               | true                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `website`                                                                                                                                                                                                                                                                                                                                                                                                                       | *string*                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | The website URL of the connection                                                                                                                                                                                                                                                                                                                                                                                               | https://www.salesforce.com                                                                                                                                                                                                                                                                                                                                                                                                      |
| `icon`                                                                                                                                                                                                                                                                                                                                                                                                                          | *string*                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | A visual icon of the connection, that will be shown in the Vault                                                                                                                                                                                                                                                                                                                                                                | https://res.cloudinary.com/apideck/image/upload/v1529456047/catalog/salesforce/icon128x128.png                                                                                                                                                                                                                                                                                                                                  |
| `logo`                                                                                                                                                                                                                                                                                                                                                                                                                          | *string*                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | The logo of the connection, that will be shown in the Vault                                                                                                                                                                                                                                                                                                                                                                     | https://c1.sfdcstatic.com/content/dam/web/en_us/www/images/home/logo-salesforce-m.svg                                                                                                                                                                                                                                                                                                                                           |
| `authorizeUrl`                                                                                                                                                                                                                                                                                                                                                                                                                  | *string*                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | The OAuth redirect URI. Redirect your users to this URI to let them authorize your app in the connector's UI. Before you can use this URI, you must add `redirect_uri` as a query parameter to the `authorize_url`. Be sure to URL encode the `redirect_uri` part. Your users will be redirected to this `redirect_uri` after they granted access to your app in the connector's UI.                                            | https://unify.apideck.com/vault/authorize/salesforce/<application-id>?state=<state>                                                                                                                                                                                                                                                                                                                                             |
| `revokeUrl`                                                                                                                                                                                                                                                                                                                                                                                                                     | *string*                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | The OAuth revoke URI. Redirect your users to this URI to revoke this connection. Before you can use this URI, you must add `redirect_uri` as a query parameter. Your users will be redirected to this `redirect_uri` after they granted access to your app in the connector's UI.                                                                                                                                               | https://unify.apideck.com/vault/revoke/salesforce/<application-id>?state=<state>                                                                                                                                                                                                                                                                                                                                                |
| `settings`                                                                                                                                                                                                                                                                                                                                                                                                                      | Record<string, *any*>                                                                                                                                                                                                                                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | Connection settings. Values will persist to `form_fields` with corresponding id                                                                                                                                                                                                                                                                                                                                                 | {<br/>"instance_url": "https://eu28.salesforce.com",<br/>"api_key": "12345xxxxxx"<br/>}                                                                                                                                                                                                                                                                                                                                         |
| `metadata`                                                                                                                                                                                                                                                                                                                                                                                                                      | Record<string, *any*>                                                                                                                                                                                                                                                                                                                                                                                                           | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | Attach your own consumer specific metadata                                                                                                                                                                                                                                                                                                                                                                                      | {<br/>"account": {<br/>"name": "My Company",<br/>"id": "c01458a5-7276-41ce-bc19-639906b0450a"<br/>},<br/>"plan": "enterprise"<br/>}                                                                                                                                                                                                                                                                                             |
| `formFields`                                                                                                                                                                                                                                                                                                                                                                                                                    | [components.FormField](../../models/components/formfield.md)[]                                                                                                                                                                                                                                                                                                                                                                  | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | The settings that are wanted to create a connection.                                                                                                                                                                                                                                                                                                                                                                            | [<br/>{<br/>"id": "instance_url",<br/>"label": "Instance url",<br/>"value": "https://eu28.salesforce.com",<br/>"placeholder": "",<br/>"mask": false,<br/>"type": "text",<br/>"required": true,<br/>"disabled": false,<br/>"custom_field": false,<br/>"sensitive": false<br/>},<br/>{<br/>"id": "api_key",<br/>"label": "API Key",<br/>"value": "123455677",<br/>"placeholder": "",<br/>"mask": false,<br/>"type": "text",<br/>"required": true,<br/>"disabled": false,<br/>"custom_field": false,<br/>"sensitive": true<br/>}<br/>] |
| `configuration`                                                                                                                                                                                                                                                                                                                                                                                                                 | [components.Configuration](../../models/components/configuration.md)[]                                                                                                                                                                                                                                                                                                                                                          | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `configurableResources`                                                                                                                                                                                                                                                                                                                                                                                                         | *string*[]                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                             | [<br/>"opportunities",<br/>"companies",<br/>"contacts",<br/>"leads"<br/>]                                                                                                                                                                                                                                                                                                                                                       |
| `resourceSchemaSupport`                                                                                                                                                                                                                                                                                                                                                                                                         | *string*[]                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                             | [<br/>"leads"<br/>]                                                                                                                                                                                                                                                                                                                                                                                                             |
| `resourceSettingsSupport`                                                                                                                                                                                                                                                                                                                                                                                                       | *string*[]                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                             | [<br/>"leads"<br/>]                                                                                                                                                                                                                                                                                                                                                                                                             |
| `validationSupport`                                                                                                                                                                                                                                                                                                                                                                                                             | *boolean*                                                                                                                                                                                                                                                                                                                                                                                                                       | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `schemaSupport`                                                                                                                                                                                                                                                                                                                                                                                                                 | *boolean*                                                                                                                                                                                                                                                                                                                                                                                                                       | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `settingsRequiredForAuthorization`                                                                                                                                                                                                                                                                                                                                                                                              | *string*[]                                                                                                                                                                                                                                                                                                                                                                                                                      | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | List of settings that are required to be configured on integration before authorization can occur                                                                                                                                                                                                                                                                                                                               | [<br/>"client_id",<br/>"client_secret"<br/>]                                                                                                                                                                                                                                                                                                                                                                                    |
| `subscriptions`                                                                                                                                                                                                                                                                                                                                                                                                                 | [components.WebhookSubscription](../../models/components/webhooksubscription.md)[]                                                                                                                                                                                                                                                                                                                                              | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `hasGuide`                                                                                                                                                                                                                                                                                                                                                                                                                      | *boolean*                                                                                                                                                                                                                                                                                                                                                                                                                       | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | Whether the connector has a guide available in the developer docs or not (https://docs.apideck.com/connectors/{service_id}/docs/consumer+connection).                                                                                                                                                                                                                                                                           | true                                                                                                                                                                                                                                                                                                                                                                                                                            |
| `createdAt`                                                                                                                                                                                                                                                                                                                                                                                                                     | *number*                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                             | 1615563533390                                                                                                                                                                                                                                                                                                                                                                                                                   |
| `customMappings`                                                                                                                                                                                                                                                                                                                                                                                                                | [components.CustomMapping](../../models/components/custommapping.md)[]                                                                                                                                                                                                                                                                                                                                                          | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | List of custom mappings configured for this connection                                                                                                                                                                                                                                                                                                                                                                          |                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| `updatedAt`                                                                                                                                                                                                                                                                                                                                                                                                                     | *number*                                                                                                                                                                                                                                                                                                                                                                                                                        | :heavy_minus_sign:                                                                                                                                                                                                                                                                                                                                                                                                              | N/A                                                                                                                                                                                                                                                                                                                                                                                                                             | 1616662325753                                                                                                                                                                                                                                                                                                                                                                                                                   |